---
title: クラウド設計パターン
titleSuffix: Azure Architecture Center
description: 信頼性の高い、スケーラブルで安全なアプリケーションをクラウドに構築するための設計パターン。
keywords: Azure
author: dragon119
ms.date: 03/01/2018
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: f0cc64c555be092f9efb51e1f769c3668ce281af
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59641010"
---
# <a name="cloud-design-patterns"></a>クラウド設計パターン

これらの設計パターンは、信頼性の高い、スケーラブルで安全なアプリケーションをクラウドに構築するために役立ちます。

パターンごとに、そのパターンで対処する問題、パターンの適用に関する考慮事項、Microsoft Azure に基づいた例を説明します。 ほとんどのパターンには、Azure でのパターンの実装方法を示すコード サンプルまたはスニペットが含まれています。 ただし、パターンのほとんどは、ホストが Azure か他のクラウド プラットフォームかにかかわらず、分散システムに関連しています。

## <a name="challenges-in-cloud-development"></a>クラウド開発での課題

<!-- markdownlint-disable MD033 -->
<table>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/availability.md"><img src="_images/category/availability.svg" alt="Availability" /></a></td>
    <td>
        <h3><a href="./category/availability.md">可用性</a></h3>
        <p>可用性とは、システムが機能し動作している時間の割合です。通常は稼働時間の比率として計測されます。 システム エラー、インフラストラクチャの問題、悪意ある攻撃、およびシステムの負荷によって影響を受けることがあります。  クラウド アプリケーションは通常はサービス レベル アグリーメント (SLA) をユーザーに提供するため、アプリケーションの可用性が最大限になるように設計する必要があります。</p>
    </td>
</tr>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/data-management.md"><img src="_images/category/data-management.svg" alt="Data Management" /></a></td>
    <td>
        <h3><a href="./category/data-management.md">データ管理</a></h3>
        <p>データ管理はクラウド アプリケーションの重要な要素であり、品質属性のほとんどに影響します。 通常、パフォーマンス、スケーラビリティ、または可用性の理由から、データは複数のサーバーにまたがってさまざまな場所でホストされます。これによって、広範な課題が生じることがあります。 たとえば、データの整合性を維持する必要があります。また、通常はさまざまな場所にあるデータを同期する必要があります。</p>
    </td>
</tr>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/design-implementation.md"><img src="_images/category/design-implementation.svg" alt="Design and Implementation" /></a></td>
    <td>
        <h3><a href="./category/design-implementation.md">設計と実装</a></h3>
        <p>優れた設計に含まれる要素には、コンポーネントの設計およびデプロイの一貫性や統一性、管理および開発を容易にする保全性、コンポーネントやサブシステムを他のアプリケーションやシナリオで利用できる再使用可能性などがあります。 設計および実装フェーズで行われる意思決定は、クラウドでホストされているアプリケーションやサービスの品質と総保有コストに大きな影響を及ぼします。</p>
    </td>
</tr>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/messaging.md"><img src="_images/category/messaging.svg" alt="Messaging" /></a></td>
    <td>
        <h3><a href="./category/messaging.md">メッセージング</a></h3>
        <p>クラウド アプリケーションの分散特性には、スケーラビリティを最大化するために、コンポーネントとサービスが (できれば疎結合的に) 接続されているメッセージング インフラストラクチャが必要です。 非同期メッセージングは広く使用されており、多数の利点がありますが、メッセージの順序付け、有害メッセージ管理、べき等性などの課題もあります。</p>
    </td>
</tr>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/management-monitoring.md"><img src="_images/category/management-monitoring.svg" alt="Management and Monitoring" /></a></td>
    <td>
        <h3><a href="./category/management-monitoring.md">管理と監視</a></h3>
        <p>クラウド アプリケーションは、リモートのデータセンターで実行されます。ご自分でそのインフラストラクチャを、または場合によってはオペレーティング システムを、完全に制御することはできません。 このため、オンプレミス デプロイよりも管理と監視は難しくなります。 アプリケーションはランタイム情報を公開する必要があります。管理者とオペレーターはこれを使用してシステムの管理と監視を行うことができます。また、この情報に基づいて、アプリケーションの停止や再デプロイを行わずに、変化するビジネス要件やカスタマイズに対応することができます。</p>
    </td>
</tr>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/performance-scalability.md"><img src="_images/category/performance-scalability.svg" alt="Performance and Scalability" /></a></td>
    <td>
        <h3><a href="./category/performance-scalability.md">パフォーマンスとスケーラビリティ</a></h3>
        <p>パフォーマンスは、システムが一定時間内にアクションを実行する応答性を示します。一方、スケーラビリティとは、システムがパフォーマンスに影響せずに負荷の上昇を処理できる能力、あるいは使用可能なリソースをすぐに増加できる能力です。 通常、クラウド アプリケーションが直面するワークロードやアクティビティのピークは変動しています。 これらを予測することは、特にマルチテナント シナリオではほとんど不可能です。 代わりに、アプリケーションは、要求のピークに対応できるように制限範囲内でスケールアウトし、要求が減少するとスケールインできることが必要です。 スケーラビリティは、コンピューティング インスタンスだけではなく、データ ストレージやメッセージング インフラストラクチャなど他の要素にとっても重要です。</p>
    </td>
</tr>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/resiliency.md"><img src="_images/category/resiliency.svg" alt="Resiliency" /></a></td>
    <td>
        <h3><a href="./category/resiliency.md">回復性</a></h3>
        <p>回復性とは、障害を正常に処理して復旧するシステムの機能です。 クラウド ホスティングには、マルチテナントのアプリケーションが多い、共有プラットフォームを使用する、リソースと帯域幅を競合する、インターネットで通信する、コモディティ ハードウェア上で実行する、という特性があります。この特性は、一時的な障害と永続的な障害の両方が発生しやすくなることを意味します。 迅速かつ効率的に障害を検出して復旧することが、回復性を維持する上で重要となっています。</p>
    </td>
</tr>
<tr>
    <td style="width: 64px; vertical-align: middle;"><a href="./category/security.md"><img src="_images/category/security.svg" alt="Security" /></a></td>
    <td>
        <h3><a href="./category/security.md">セキュリティ</a></h3>
        <p>セキュリティとは、設計された用途以外の悪意あるアクションや偶発的なアクションを防ぎ、情報の漏えいや損失を防ぐシステムの機能です。 クラウド アプリケーションは、信頼できるオンプレミス境界の外側でインターネット上に存在します。一般に公開されていることも多く、信頼できないユーザーが利用する場合もあります。 アプリケーションの設計とデプロイでは、悪意のある攻撃から保護し、承認したユーザーのみにアクセスを制限し、機密データを保護する必要があります。</p>
    </td>
</tr>
</table>
<!-- markdownlint-disable MD033 -->

## <a name="catalog-of-patterns"></a>パターンのカタログ

|                                Pattern                                |                                                                                                         まとめ                                                                                                         |
|-----------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     [Ambassador](./ambassador.md)                     |                                                            コンシューマー サービスまたはアプリケーションの代わりにネットワーク要求を送信するヘルパー サービスを作成します。                                                            |
|          [破損対策レイヤー](./anti-corruption-layer.md)          |                                                                  最新のアプリケーションとレガシ システムの間にファサードすなわちアダプター レイヤーを実装します。                                                                  |
|         [フロントエンド用バックエンド](./backends-for-frontends.md)         |                                                            特定のフロント エンド アプリケーションやインターフェイスによって使用される個別のバックエンド サービスを作成します。                                                             |
|                       [バルクヘッド](./bulkhead.md)                       |                                                        アプリケーションの要素をプールに分離し、1 つの要素が失敗しても、他の要素が引き続き機能できるようにします。                                                        |
|                    [キャッシュアサイド](./cache-aside.md)                    |                                                                                   オンデマンドでデータをデータ ストアからキャッシュに読み込みます。                                                                                    |
|                [サーキット ブレーカー](./circuit-breaker.md)                |                                                     リモート サービスまたはリソースとの接続時の修正に要する時間が一定しないエラーを処理します。                                                     |
| [要求チェック](./claim-check.md) | 大きいメッセージを要求チェックとペイロードに分割して、メッセージ バスに過度な負荷がかかることを防ぎます。 |
|       [補正トランザクション](./compensating-transaction.md)       |                                                         一連のステップ (最終的に一貫性のある操作を形成する) で実行された作業を元に戻します。                                                         |
|            [競合コンシューマー](./competing-consumers.md)            |                                                            複数の同時実行コンシューマーが、同じメッセージング チャネルで受信したメッセージを処理できるようにします。                                                             |
| [コンピューティング リソース統合](./compute-resource-consolidation.md) |                                                                        複数のタスクまたは操作を 1 つのコンピューティング単位に統合します。                                                                        |
|                           [CQRS](./cqrs.md)                           |                                                           個別のインターフェイスを使用して、データを更新する操作から、データを読み取る操作を分離します。                                                            |
|                 [イベント ソース](./event-sourcing.md)                 |                                                      追加専用ストアを使用して、ドメイン内のデータに実行されるアクションを記述する一連のイベントすべてを記録します。                                                      |
|   [外部構成ストア](./external-configuration-store.md)   |                                                           アプリケーション展開パッケージから、一元管理される場所に構成情報を移動します。                                                           |
|             [フェデレーション ID](./federated-identity.md)             |                                                                                外部の ID プロバイダーに認証を委任します。                                                                                |
|                     [ゲートキーパー](./gatekeeper.md)                     | 専用のホスト インスタンスを使用して、アプリケーションとサービスを保護します。このホストインスタンスは、クライアントとアプリケーションまたはサービスの間でブローカーとして機能し、要求を検証して不適切な部分を除去し、クライアントとアプリケーションまたはサービスの間で要求とデータを渡します。 |
|            [ゲートウェイ集約](./gateway-aggregation.md)            |                                                                     ゲートウェイを使用して、複数の個々の要求を 1 つの要求に集約します。                                                                      |
|             [ゲートウェイ オフロード](./gateway-offloading.md)             |                                                                         共有または専用のサービス機能の負荷をゲートウェイ プロキシに渡します。                                                                         |
|                [ゲートウェイ ルーティング](./gateway-routing.md)                |                                                                              単一のエンドポイントを使用して複数のサービスに要求をルーティングします。                                                                               |
|     [正常性エンドポイント監視](./health-endpoint-monitoring.md)     |                                              公開されたエンドポイントを通じて外部ツールが定期的にアクセスできる機能チェックをアプリケーションに実装します。                                               |
|                    [テーブルのインデックス作成](./index-table.md)                    |                                                                クエリで頻繁に参照されるデータ ストア内のフィールドにインデックスを作成します。                                                                 |
|                [リーダー選定](./leader-election.md)                |   1 つのインスタンスを他のインスタンスの管理を担当するリーダーとして選定することで、分散アプリケーション内で連携するタスク インスタンスのコレクションによって実行されるアクションを調整します。    |
|              [マテリアライズドビュー](./materialized-view.md)              |                                        必要なクエリ操作に対してデータのフォーマットが適していない場合に、1 つ以上のデータ ストアのデータについてあらかじめデータが移入されたビューを生成します。                                        |
|              [パイプとフィルター](./pipes-and-filters.md)              |                                                        複雑な処理を実行するタスクを、再利用できる一連の独立した要素に分解します。                                                        |
|                 [優先順位キュー](./priority-queue.md)                 |                                 サービスに送信される要求に優先順位を設定し、優先順位の高い要求から順番に受信および処理されるようにします。                                  |
| [パブリッシャー/サブスクライバー](./publisher-subscriber.md) | 送信側と受信側を結合せずに、アプリケーションから関心を持っている複数のコンシューマーに対して非同期的にイベントを通知できるようにします。 |
|      [キュー ベースの負荷平準化](./queue-based-load-leveling.md)      |                                               タスクとそのタスクが呼び出すサービスとの間でバッファーとして機能するキューを使用して、断続的な大きい負荷を平準化します。                                               |
|                          [Retry](./retry.md)                          |               予測される一時的な障害をアプリケーションが処理できるようにします。アプリケーションがサービスまたはネットワーク リソースに接続しようとする際に、失敗した操作を透過的に再試行します。                |
|     [Scheduler エージェント スーパーバイザー](./scheduler-agent-supervisor.md)     |                                                              分散されている一連のサービスやその他のリモート リソースに対して、一連のアクションを調整します。                                                               |
|                       [シャーディング](./sharding.md)                       |                                                                           データ ストアを水平方向のパーティションまたはシャードのセットに分割します。                                                                            |
|                        [Sidecar](./sidecar.md)                        |                                                    アプリケーションのコンポーネントを別のプロセスまたはコンテナーにデプロイして、分離性とカプセル化を実現します。                                                     |
|         [静的コンテンツ ホスティング](./static-content-hosting.md)         |                                                          静的コンテンツを、クライアントに直接配信できるクラウドベースのストレージ サービスにデプロイします。                                                           |
|                      [ストラングラー](./strangler.md)                      |                                            機能の特定の部分を新しいアプリケーションやサービスに徐々に置き換えることで、レガシ システムを段階的に移行します。                                            |
|                     [調整](./throttling.md)                     |                                                 アプリケーションのインスタンス、個々のテナント、またはサービス全体によって使用されるリソースの使用量を制御します。                                                 |
|                      [バレット キー](./valet-key.md)                      |                                                        特定のリソースまたはサービスへの限定的な直接アクセスをクライアントに提供する、トークンまたはキーを使用します。                                                        |
